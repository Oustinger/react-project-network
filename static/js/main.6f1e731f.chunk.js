(this["webpackJsonpreact-project-1"]=this["webpackJsonpreact-project-1"]||[]).push([[0],{103:function(e,t,n){e.exports={preloader:"Preloader_preloader__L_jRm"}},137:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(53),a=n(2),o=n(30),i="network/dialogs/ADD-MESSAGE",s="network/dialogs/SET_ACTIVE_DIALOG",c={activeDialogId:null,authors:[{id:0,name:"Me"},{id:1,name:"Alex"},{id:2,name:"Dmitry"},{id:3,name:"Sophia"},{id:4,name:"Sergei"},{id:5,name:"Irina"}],dialogs:[{id:1,dialogName:"Brother",companions:[1]},{id:2,dialogName:"Dmitry",companions:[2]},{id:3,dialogName:"Sophia",companions:[3]},{id:4,dialogName:"Sergei",companions:[4]},{id:5,dialogName:"Irina",companions:[5]}],messages:[{id:1,dialogId:1,authorId:1,message:"Hi"},{id:2,dialogId:1,authorId:1,message:"How are you?"},{id:3,dialogId:1,authorId:0,message:"Hi! I'm OK!"}]},l=function(e){return{type:i,payload:e}},u=function(e){return{type:s,payload:e}},d=function(){return function(e){e(Object(o.a)("dialog"))}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=Object(a.a)({id:e.messages.length+1,authorId:0},t.payload);return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])});case s:return Object(a.a)(Object(a.a)({},e),{},{activeDialogId:t.payload});default:return e}}},14:function(e,t,n){e.exports={main:"ProfileInfo_main__3zfhr",bannerBlock:"ProfileInfo_bannerBlock__-CO68",descriptionBlock:"ProfileInfo_descriptionBlock__UAFdX",userPhoto:"ProfileInfo_userPhoto__aI7jm",userPhoto__imgContainer:"ProfileInfo_userPhoto__imgContainer__1o3jn",changeUserPhoto__input:"ProfileInfo_changeUserPhoto__input__3-P3Z",changeUserPhoto__label__text:"ProfileInfo_changeUserPhoto__label__text__2GcEU",changeUserPhoto__label__text_highlight:"ProfileInfo_changeUserPhoto__label__text_highlight__3Zjha",changeUserPhoto__label:"ProfileInfo_changeUserPhoto__label__1BpSE",changeUserPhoto__label__textContainer:"ProfileInfo_changeUserPhoto__label__textContainer__2TS0n",fullName:"ProfileInfo_fullName__21Tsw",about:"ProfileInfo_about__2Qgjf",data__contactsList__imgContainer:"ProfileInfo_data__contactsList__imgContainer__-BWYW",data__itemsContainer:"ProfileInfo_data__itemsContainer__3Jpsu",data__lookingJob__text:"ProfileInfo_data__lookingJob__text__siaph",data__lookingJob__checkMark:"ProfileInfo_data__lookingJob__checkMark__1bJ09",form__fieldsContainer:"ProfileInfo_form__fieldsContainer__1cd19",form__contactsFields:"ProfileInfo_form__contactsFields__VfSm1",form__btn:"ProfileInfo_form__btn__IiG-6",form__divider:"ProfileInfo_form__divider__2Cvts"}},142:function(e,t,n){e.exports={shadowSection:"ShadowSection_shadowSection__G0F1t"}},143:function(e,t,n){e.exports={form:"Login_form__1rnmb"}},145:function(e,t,n){e.exports={input:"ProfileStatus_input__3rTf9"}},146:function(e,t,n){e.exports={users:"Users_users__2jLlv"}},15:function(e,t,n){e.exports={form:"FormsControls_form__2ixYN",label:"FormsControls_label__20NjK",control:"FormsControls_control__3MtrA",fullFiled:"FormsControls_fullFiled__28MKJ",formControl:"FormsControls_formControl__2FPvr",formBtnContainer:"FormsControls_formBtnContainer__2zijT",formBtn:"FormsControls_formBtn__2CoKe",captchaImg:"FormsControls_captchaImg__O1zQJ",error:"FormsControls_error__5ueAb",errorText:"FormsControls_errorText__3SPMA",commonError:"FormsControls_commonError__134vU"}},16:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2N1L1",posts:"MyPosts_posts__2ITPq",form:"MyPosts_form__1h8Y7",item:"MyPosts_item__13Y0P",item__img:"MyPosts_item__img__3wK0j",item__info:"MyPosts_item__info__YCC3u",item__options:"MyPosts_item__options__1EDRG",item__options_highlighter:"MyPosts_item__options_highlighter__2MnMx",item__options__btn:"MyPosts_item__options__btn__372Dq",options__panel:"MyPosts_options__panel__EYD3Y",options__panel__itemsList:"MyPosts_options__panel__itemsList__8_Ixo",options__panel__item:"MyPosts_options__panel__item__31eU9",item__likesImg:"MyPosts_item__likesImg__2lkjJ"}},17:function(e,t,n){e.exports={headerContainer:"Header_headerContainer__165S_",header:"Header_header__QyoLQ",logo:"Header_logo__scy_r",authBlock:"Header_authBlock__3pxx0",authBlock__logout:"Header_authBlock__logout__WbzIh",authBlock_highlighter:"Header_authBlock_highlighter__1EFrD",authBlock__btn:"Header_authBlock__btn__3sOVk",authBlock__panel:"Header_authBlock__panel__9Kijo",authBlock__panel__items:"Header_authBlock__panel__items__U8Qtx",notifications__btn:"Header_notifications__btn__Sjs9S",notifications__panel:"Header_notifications__panel__w9Yk5",login__btn:"Header_login__btn__hy6Aq",login__btn__userImg:"Header_login__btn__userImg__38vnm",login__panel:"Header_login__panel__LtF-q"}},177:function(e,t,n){},20:function(e,t,n){"use strict";var r=n(18),a=n(6),o=n.n(a),i=n(60),s=n.n(i),c=n(0);t.a=function(e){var t=e.children,n=e.onClick,a=e.disabled,i=e.key,l=e.className,u=e.isInvert,d=e.isSmall,h=e.isMedium,j=e.float;return Object(c.jsx)("div",{className:o()("uk-button","uk-button-default",s.a.btn,l,Object(r.a)({},s.a.invert,u),Object(r.a)({},s.a.small,d),Object(r.a)({},s.a.medium,h),Object(r.a)({},s.a["float-".concat(j)],j)),disabled:a,onClick:n,children:t},i)}},27:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"This field is required"},a=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e," symbols")}}},301:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(79),i=n.n(o),s=(n(177),n(36)),c=n(37),l=n(39),u=n(38),d=n(6),h=n.n(d),j=n(19),b=n(12),f=n(24),p=n(9),_=n(84),m=n.n(_),A=n(2),g=n(40),O=n(0),x=n(11),v=n.n(x),w=n(23),P=n(30),k=n(18),C=n(22),I=n(140),y=n.n(I),N=n(82),E=n.n(N),S=function(e){return"".concat(e.charAt(0).toLowerCase()).concat(e.slice(1))},F=y.a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"c1cff70e-7a9f-4edf-8ac3-59091e2abdb2"}}),U=function(e){return e.length>0?e.reduce((function(e,t){if(t.includes("(")){var n=t.split(" ("),r=Object(C.a)(n,2),a=r[0],o=r[1].split(")")[0],i=o.includes("->")?o.split("->").reverse().map((function(e){return S(e)})).reduce((function(e,t,n){return Object(k.a)({},t,0===n?a:Object(A.a)({},e))}),{}):Object(k.a)({},S(o),a);return E.a.merge(Object(A.a)({},e),i)}return Object(A.a)(Object(A.a)({},e),{},{_error:t})}),{}):{_error:"Some error"}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return F.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},B=function(e){return F.get("follow/".concat(e)).then((function(e){return e.data}))},M=function(e){return F.post("follow/".concat(e)).then((function(e){return e.data}))},D=function(e){return F.delete("follow/".concat(e)).then((function(e){return e.data}))},W={getProfile:function(e){return F.get("profile/".concat(e)).then((function(e){return e.data}))},getProfileStatus:function(e){return F.get("profile/status/".concat(e)).then((function(e){return e.data}))},updateProfileStatus:function(e){return F.put("profile/status",{status:e}).then((function(e){return e.data}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),F.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},updateData:function(e){return F.put("profile",e).then((function(e){return e.data}))}},T=function(){return F.get("auth/me").then((function(e){return e.data}))},R=function(e){return F.post("auth/login",e).then((function(e){return e.data}))},V=function(){return F.delete("auth/login").then((function(e){return e.data}))},z=function(){try{return F.get("security/get-captcha-url").then((function(e){return e.data}))}catch(e){alert("Caught http error while trying getCaptchaUrl()")}},Z="network/auth/SET_AUTH_DATA",J="network/auth/GET_CAPTCHA_URL_SUCCESS",X={userId:null,email:null,login:null,photos:{large:null,small:null},isAuth:!1,captchaUrl:null},G=function(e,t,n,r,a){return{type:Z,payload:{userId:e,email:t,login:n,photos:r,isAuth:a}}},Q=function(){return function(){var e=Object(w.a)(v.a.mark((function e(t){var n,r,a,o,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:if(0!==(n=e.sent).resultCode){e.next=12;break}return r=n.data.id,a=n.data.email,o=n.data.login,e.next=9,W.getProfile(r);case 9:return i=e.sent,t(G(r,a,o,i.photos,!0)),e.abrupt("return",i);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y=function(){return function(){var e=Object(w.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:n=e.sent,t((r=n.url,{type:J,payload:{captchaUrl:r}}));case 4:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:case J:return Object(A.a)(Object(A.a)({},e),t.payload);default:return e}},K=n(51),q=n.p+"static/media/logo.6ce24c58.svg",$=n(17),ee=n.n($),te=function(e){return Object(O.jsx)("div",{className:ee.a.headerContainer,children:Object(O.jsxs)("header",{className:"".concat(ee.a.header,"  flex-row-xb-yc"),children:[Object(O.jsx)(f.b,{to:"/profile/".concat(e.userId),children:Object(O.jsxs)("div",{className:"".concat(ee.a.logo," flex-row-xs-yc"),children:[Object(O.jsx)("img",{src:q}),Object(O.jsx)("span",{children:"Network"})]})}),Object(O.jsx)("div",{className:ee.a.authBlock,children:e.isAuth?Object(O.jsxs)("div",{className:"flex-row-xs-yc",children:[Object(O.jsxs)("div",{className:ee.a.notifications,children:[Object(O.jsx)("button",{className:h()(ee.a.notifications__btn,ee.a.authBlock__btn,"uk-button","uk-button-default","flex-row-xs-yc"),type:"button",children:Object(O.jsx)("div",{className:"".concat(ee.a.authBlock_highlighter," hover-highlight flex-row-xs-yc"),children:Object(O.jsx)("span",{className:"uk-margin-small-right","uk-icon":"icon: bell; ratio: 1.2"})})}),Object(O.jsx)("div",{"uk-drop":"mode: click",children:Object(O.jsx)("div",{className:h()(ee.a.notifications__panel,ee.a.authBlock__panel),children:Object(O.jsx)("ul",{className:"".concat(ee.a.authBlock__panel__items," uk-list uk-list-divider"),children:Object(O.jsx)("span",{children:"Notifications: 0"})})})})]}),Object(O.jsxs)("div",{className:ee.a.login,children:[Object(O.jsx)("button",{className:h()(ee.a.login__btn,ee.a.authBlock__btn,"uk-button","uk-button-default","flex-row-xs-yc"),type:"button",children:Object(O.jsxs)("div",{className:"".concat(ee.a.authBlock_highlighter," hover-highlight flex-row-xs-yc"),children:[Object(O.jsx)("div",{className:ee.a.login__btn__userName,children:e.login}),Object(O.jsx)("img",{className:ee.a.login__btn__userImg,src:e.photo||K.a}),Object(O.jsx)("span",{className:"uk-margin-small-right","uk-icon":"icon: chevron-down"})]})}),Object(O.jsx)("div",{"uk-drop":"mode: click",children:Object(O.jsx)("div",{className:h()(ee.a.login__panel,ee.a.authBlock__panel),children:Object(O.jsxs)("ul",{className:"".concat(ee.a.authBlock__panel__items," uk-list uk-list-divider"),children:[Object(O.jsx)("div",{children:Object(O.jsx)(f.b,{to:"/profile/".concat(e.userId),className:"flex-row-xs-yc",children:"Profile"})}),Object(O.jsx)("div",{children:Object(O.jsx)("a",{href:"#",onClick:e.logout,children:"LogOut"})})]})})})]})]}):Object(O.jsx)(f.b,{to:"/login",className:ee.a.authBlock__logout,children:"LogIn"})})]})})},ne=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(O.jsx)(te,{userId:this.props.userId,login:this.props.login,logout:this.props.logout,photo:this.props.photo,isAuth:this.props.isAuth})}}]),n}(a.a.Component),re=Object(p.d)(Object(j.b)((function(e){return{userId:e.auth.userId,login:e.auth.login,photo:e.auth.photos.small,isAuth:e.auth.isAuth}}),{getAuthUserData:Q,logout:function(){return function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:0===e.sent.resultCode&&t(G(null,null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),b.g)(ne),ae=n(138),oe=n(27),ie=n(7),se=n(15),ce=n.n(se),le=n(31),ue=n(143),de=n.n(ue),he=Object(oe.a)(30),je=Object(ae.a)({form:"login"})((function(e){var t=e.error,n=e.handleSubmit,r=e.captchaUrl;return Object(O.jsx)("form",{onSubmit:n,className:h()(de.a.form,ce.a.form),children:Object(O.jsx)(le.a,{children:Object(O.jsxs)(ie.a,{children:[Object(O.jsx)("h2",{className:ce.a.fullFiled,children:"Login page"}),Object(ie.e)(ie.c,[oe.b,he],"email",{placeholder:"Email",label:"Email",type:"email"}),Object(ie.e)(ie.c,[oe.b,he],"password",{placeholder:"Password",label:"Password",type:"password"}),Object(ie.e)(ie.c,[],"rememberMe",{textAfter:" remember me",label:null,type:"checkbox"}),r&&Object(O.jsx)("img",{src:r,className:h()(ce.a.fullFiled,ce.a.captchaImg)}),r&&Object(ie.e)(ie.c,[oe.b],"captcha",{placeholder:"Symbols from image",label:"Captcha",type:"text"}),t&&Object(O.jsx)("div",{className:h()(ce.a.commonError,ce.a.fullFiled),children:t}),Object(O.jsx)(ie.b,{children:"Login"})]})})})})),be=Object(j.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:0===(r=t.sent).resultCode?n(Q()):(10===r.resultCode&&n(Y()),n(Object(P.b)("login",U(r.messages))));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.isAuth,n=e.captchaUrl,r=e.login;return t?Object(O.jsx)(b.a,{to:"/profile"}):Object(O.jsx)("div",{children:Object(O.jsx)(je,{onSubmit:function(e){return Promise.all[r(e)]},captchaUrl:n})})})),fe=n(44),pe=Object(p.d)(fe.a)((function(){return Object(O.jsx)("div",{children:"Music"})})),_e=n(41),me=n.n(_e),Ae=function(){return Object(O.jsx)("div",{className:me.a.navContainer,children:Object(O.jsx)("nav",{className:me.a.nav,children:Object(O.jsxs)(le.a,{width:"calc(100% - 2rem)",height:"calc(100% - 2rem)",padding:"1rem",children:[Object(O.jsx)("div",{className:me.a.item,children:Object(O.jsxs)(f.b,{to:"/profile",activeClassName:me.a.active,className:"flex-row-xs-yc",children:[Object(O.jsx)("span",{className:"uk-margin-small-right","uk-icon":"icon: user; ratio: 1.4"}),"Profile"]})}),Object(O.jsx)("div",{className:me.a.item,children:Object(O.jsxs)(f.b,{to:"/users",activeClassName:me.a.active,className:"flex-row-xs-yc",children:[Object(O.jsx)("span",{className:"uk-margin-small-right","uk-icon":"icon: users; ratio: 1.4"}),"Users"]})}),Object(O.jsx)("div",{className:me.a.item,children:Object(O.jsxs)(f.b,{to:"/dialogs",activeClassName:me.a.active,className:"flex-row-xs-yc",children:[Object(O.jsx)("span",{className:"uk-margin-small-right","uk-icon":"icon: comments; ratio: 1.4"}),"Dialogs"]})})]})})})},ge=Object(p.d)(fe.a)((function(){return Object(O.jsx)("div",{children:"News"})})),Oe=n(144),xe=Object(Oe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ve=function(e){return e.usersPage.totalUsersCount},we=function(e){return e.usersPage.pageSize},Pe=function(e){return e.usersPage.currentPage},ke=function(e){return e.usersPage.isFetching},Ce=function(e){return e.usersPage.followingInProgress},Ie=n(53),ye="network/profile/ADD-POST",Ne="network/profile/SET_USER_PROFILE",Ee="network/profile/SET_PROFILE_STATUS",Se="network/profile/FETCHING_USER_PROFILE",Fe="network/profile/SET_CURRENT_USER_ID",Ue="network/profile/SAVE_PHOTO_SUCCESS",Le="network/profile/TOGGLE_PROFILE_DATA_EDIT_MODE",Be="network/profile/SET_IS_FOLLOWED",Me="network/profile/FOLLOW",De="network/profile/UNFOLLOW",We="network/users/TOGGLE_FOLLOWING_PROGRESS",Te={posts:[{id:1,message:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",likesCount:"25"},{id:2,message:"Hello, friends!!!",likesCount:"12"},{id:3,message:"My first post! :)",likesCount:"10"}],profile:null,status:"",isFetchingUserProfile:!1,currentUserId:null,profileDataEditMode:!1,isFollowed:!1},Re=function(e){return{type:Ee,status:e}},Ve=function(e){return{type:Se,isFetching:e}},ze=function(){return{type:Le}},Ze=function(){return{type:Me}},Je=function(){return{type:De}},Xe=function(e){return{type:We,isFollowing:e}},Ge=function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n,r){var a,o;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.isAuth,n(Ve(!0)),t.next=4,W.getProfile(e);case 4:if(o=t.sent,!a){t.next=8;break}return t.next=8,n(Ye(e));case 8:n({type:Ne,profile:o}),n(Ve(!1));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Qe=function(e){var t=Object.entries(e.contacts).filter((function(e){var t=Object(C.a)(e,2);t[0];return t[1]})).filter((function(e){var t=Object(C.a)(e,2);t[0];return!t[1].includes("://")})).map((function(e){var t=Object(C.a)(e,2),n=t[0],r=t[1];return[n,"https://".concat(r)]})).reduce((function(e,t){var n=Object(C.a)(t,2),r=n[0],a=n[1];return Object(A.a)(Object(A.a)({},e),{},Object(k.a)({},r,a))}),{});return E.a.merge(Object(A.a)(Object(A.a)({},e),{},{contacts:Object(A.a)({},e.contacts)}),{contacts:t})},Ye=function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:r=t.sent,n({type:Be,isFollowed:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},He=function(e){e.push("/login")},Ke=function(){var e=Object(w.a)(v.a.mark((function e(t,n,r,a,o,i){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().auth.isAuth){e.next=9;break}return r(Xe(!0)),e.next=5,o(t);case 5:return 0===e.sent.resultCode&&r(i()),r(Xe(!1)),e.abrupt("return");case 9:He(n);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:var n={id:e.posts.length+1,message:t.text,likesCount:"0"};return Object(A.a)(Object(A.a)({},e),{},{posts:[].concat(Object(Ie.a)(e.posts),[n])});case Ne:return Object(A.a)(Object(A.a)({},e),{},{profile:t.profile});case Ee:return Object(A.a)(Object(A.a)({},e),{},{status:t.status});case Se:return Object(A.a)(Object(A.a)({},e),{},{isFetchingUserProfile:t.isFetching});case Fe:return Object(A.a)(Object(A.a)({},e),{},{currentUserId:t.userId});case Ue:return Object(A.a)(Object(A.a)({},e),{},{profile:Object(A.a)(Object(A.a)({},e.profile),{},{photos:t.photos})});case Le:return Object(A.a)(Object(A.a)({},e),{},{profileDataEditMode:!e.profileDataEditMode});case Be:return Object(A.a)(Object(A.a)({},e),{},{isFollowed:t.isFollowed});case Me:return Object(A.a)(Object(A.a)({},e),{},{isFollowed:!0});case De:return Object(A.a)(Object(A.a)({},e),{},{isFollowed:!1});case We:return Object(A.a)(Object(A.a)({},e),{},{followingInProgress:t.isFollowing});default:return e}},$e=function(e){return e.profilePage.isFollowed},et=n(59),tt=n.n(et),nt=n(16),rt=n.n(nt),at=function(e){var t=e.message,n=e.likesCount;return Object(O.jsxs)("div",{className:rt.a.item,children:[Object(O.jsx)("img",{className:rt.a.item__img,src:"https://miro.medium.com/max/1838/1*mk1-6aYaf_Bes1E3Imhc0A.jpeg"}),Object(O.jsx)("span",{children:t}),Object(O.jsxs)("div",{className:rt.a.item__info,children:[Object(O.jsxs)("div",{className:rt.a.item__options,children:[Object(O.jsx)("button",{className:h()(rt.a.item__options__btn,"uk-button","uk-button-default","flex-row-xs-yc"),type:"button",children:Object(O.jsx)("div",{className:h()(rt.a.item__options_highlighter,"hover-highlight","flex-row-xs-yc"),children:Object(O.jsx)("span",{className:"uk-margin-small-right","uk-icon":"icon: more; ratio: 1"})})}),Object(O.jsx)("div",{"uk-drop":"mode: click",children:Object(O.jsx)("div",{className:h()(rt.a.options__panel),children:Object(O.jsxs)("ul",{className:"".concat(rt.a.options__panel__itemsList," uk-list uk-list-divider"),children:[Object(O.jsx)("div",{className:h()(rt.a.options__panel__item,rt.a.item__options_highlighter),children:"Pin to top"}),Object(O.jsx)("div",{className:h()(rt.a.options__panel__item,rt.a.item__options_highlighter),children:"Share"}),Object(O.jsx)("div",{className:h()(rt.a.options__panel__item,rt.a.item__options_highlighter),children:"Delete"})]})})})]}),Object(O.jsxs)("div",{className:h()(rt.a.item__likes,"flex-row-xb-ye"),children:[Object(O.jsx)("b",{children:n}),Object(O.jsx)("svg",{className:rt.a.item__likesImg,viewBox:"0 -28 512.001 512",xmlns:"http://www.w3.org/2000/svg",children:Object(O.jsx)("path",{d:"m256 455.515625c-7.289062 0-14.316406-2.640625-19.792969-7.4375-20.683593-18.085937-40.625-35.082031-58.21875-50.074219l-.089843-.078125c-51.582032-43.957031-96.125-81.917969-127.117188-119.3125-34.644531-41.804687-50.78125-81.441406-50.78125-124.742187 0-42.070313 14.425781-80.882813 40.617188-109.292969 26.503906-28.746094 62.871093-44.578125 102.414062-44.578125 29.554688 0 56.621094 9.34375 80.445312 27.769531 12.023438 9.300781 22.921876 20.683594 32.523438 33.960938 9.605469-13.277344 20.5-24.660157 32.527344-33.960938 23.824218-18.425781 50.890625-27.769531 80.445312-27.769531 39.539063 0 75.910156 15.832031 102.414063 44.578125 26.191406 28.410156 40.613281 67.222656 40.613281 109.292969 0 43.300781-16.132812 82.9375-50.777344 124.738281-30.992187 37.398437-75.53125 75.355469-127.105468 119.308594-17.625 15.015625-37.597657 32.039062-58.328126 50.167969-5.472656 4.789062-12.503906 7.429687-19.789062 7.429687zm-112.96875-425.523437c-31.066406 0-59.605469 12.398437-80.367188 34.914062-21.070312 22.855469-32.675781 54.449219-32.675781 88.964844 0 36.417968 13.535157 68.988281 43.882813 105.605468 29.332031 35.394532 72.960937 72.574219 123.476562 115.625l.09375.078126c17.660156 15.050781 37.679688 32.113281 58.515625 50.332031 20.960938-18.253907 41.011719-35.34375 58.707031-50.417969 50.511719-43.050781 94.136719-80.222656 123.46875-115.617188 30.34375-36.617187 43.878907-69.1875 43.878907-105.605468 0-34.515625-11.605469-66.109375-32.675781-88.964844-20.757813-22.515625-49.300782-34.914062-80.363282-34.914062-22.757812 0-43.652344 7.234374-62.101562 21.5-16.441406 12.71875-27.894532 28.796874-34.609375 40.046874-3.453125 5.785157-9.53125 9.238282-16.261719 9.238282s-12.808594-3.453125-16.261719-9.238282c-6.710937-11.25-18.164062-27.328124-34.609375-40.046874-18.449218-14.265626-39.34375-21.5-62.097656-21.5zm0 0"})})]})]})]})},ot=Object(oe.a)(150),it=Object(ae.a)({form:"post"})((function(e){var t=e.handleSubmit;return Object(O.jsxs)("form",{onSubmit:t,className:h()(ce.a.form,rt.a.form),children:[Object(O.jsx)("div",{children:Object(ie.e)(ie.d,[ot],"postText",{placeholder:"Write a new post"})}),Object(O.jsx)("div",{children:Object(O.jsx)(ie.b,{isMedium:!0,float:"right",children:"Add post"})})]})})),st=a.a.memo((function(e){var t=e.posts,n=e.addPost,r=e.resetPostForm;return Object(O.jsxs)("div",{className:rt.a.postsBlock,children:[Object(O.jsxs)(le.a,{padding:".9rem",height:"fit-content",children:[Object(O.jsx)("h3",{className:tt.a.profile__blockHeader,children:Object(O.jsx)("b",{children:"Posts"})}),Object(O.jsx)("div",{children:Object(O.jsx)(it,{onSubmit:function(e){var t=e.postText;n(t),r()}})})]}),Object(O.jsx)("div",{className:rt.a.posts,children:t.map((function(e){var t=e.id,n=e.message,r=e.likesCount;return Object(O.jsx)(le.a,{padding:".9rem",children:Object(O.jsx)(at,{message:n,likesCount:r},t)})}))})]})})),ct=n(20),lt=n.p+"static/media/facebook.4f037d96.png",ut=n.p+"static/media/github.44eee0c4.png",dt=n.p+"static/media/instagram.e719d8b2.png",ht=n.p+"static/media/twitter.28b4dce4.png",jt=n.p+"static/media/vk.aef20084.png",bt=n.p+"static/media/website.27f08f46.png",ft=n.p+"static/media/youtube.b082052d.png",pt=n(14),_t=n.n(pt),mt=function(e){var t=e.profile,n=e.goToEditMode,r=e.isOwner,a=Object.entries(t.contacts).filter((function(e){var t=Object(C.a)(e,2);t[0];return t[1]})),o=Math.ceil(a.length/2),i={vk:jt,github:ut,instagram:dt,facebook:lt,twitter:ht,website:bt,youtube:ft};return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"flex-row-xb-ys",children:[Object(O.jsx)("h3",{className:tt.a.profile__blockHeader,children:Object(O.jsx)("b",{children:"About"})}),r&&Object(O.jsx)(ct.a,{onClick:n,isInvert:!0,isSmall:!0,children:"Edit"})]}),Object(O.jsxs)("ul",{className:h()("uk-list uk-list-divider",_t.a.data__itemsContainer),children:[t.aboutMe&&Object(O.jsx)("div",{children:t.aboutMe}),t.lookingForAJob&&Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"flex-row-xs-yc",children:[Object(O.jsx)("b",{className:_t.a.data__lookingJob__text,children:"Looking for a job: "}),Object(O.jsx)("img",{className:_t.a.data__lookingJob__checkMark,src:"data:image/png;base64,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"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{children:"Description:"}),Object(O.jsx)("br",{}),t.lookingForAJobDescription]})]}),a.length>0&&Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"flex-row-xc-yc",children:a.map((function(e,t){var n=Object(C.a)(e,2),r=n[0],s=n[1];return(t<=o||a.length<=5)&&Object(O.jsx)("div",{className:_t.a.data__contactsList__imgContainer,children:Object(O.jsx)("a",{target:"_blank",href:s,children:Object(O.jsx)("img",{src:i[r.toLowerCase()]})})},r)}))}),a.length>5&&Object(O.jsx)("div",{className:"flex-row-xc-yc",children:a.map((function(e,t){var n=Object(C.a)(e,2),r=n[0],a=n[1];return t>o&&Object(O.jsx)("div",{className:_t.a.data__contactsList__imgContainer,children:Object(O.jsx)("a",{target:"_blank",href:a,children:Object(O.jsx)("img",{src:i[r.toLowerCase()]})})},r)}))})]})]})]})},At=Object(oe.a)(100),gt=Object(ae.a)({form:"profile"})((function(e){var t=e.error,n=e.handleSubmit;return Object(O.jsxs)("form",{onSubmit:n,className:ce.a.form,children:[t&&Object(O.jsx)("div",{className:ce.a.commonError,children:t}),Object(O.jsxs)("div",{className:_t.a.form__fieldsContainer,children:[Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At,oe.b],"fullName",{placeholder:"full name",label:"Full name: "})}),Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At,oe.b],"aboutMe",{placeholder:"Some info about you",label:"About me: "})}),Object(O.jsx)("hr",{className:_t.a.form__divider}),Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[],"lookingForAJob",{type:"checkbox",textAfter:"Are looking for a job? "})}),Object(O.jsx)("div",{children:Object(ie.e)(ie.d,[At,oe.b],"lookingForAJobDescription",{placeholder:"Describe what job you are looking for and about your skills",label:"Looking for a job description: "})}),Object(O.jsx)("hr",{className:_t.a.form__divider}),Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:_t.a.form__contactsFields,children:[Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At],"contacts.github",{placeholder:"github",label:"Github: "})}),Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At],"contacts.vk",{placeholder:"vk",label:"Vk: "})}),Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At],"contacts.facebook",{placeholder:"facebook",label:"Facebook: "})}),Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At],"contacts.instagram",{placeholder:"instagram",label:"Instagram: "})}),Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At],"contacts.twitter",{placeholder:"twitter",label:"Twitter: "})}),Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At],"contacts.website",{placeholder:"website",label:"Website: "})}),Object(O.jsx)("div",{children:Object(ie.e)(ie.c,[At],"contacts.youtube",{placeholder:"youtube",label:"YouTube: "})})]})}),Object(O.jsx)("div",{children:Object(O.jsx)(ie.b,{isInvert:!0,isSmall:!0,float:"right",className:_t.a.form__btn,children:"Save"})})]})]})})),Ot=n(145),xt=n.n(Ot),vt=function(e){var t=Object(r.useState)(!1),n=Object(C.a)(t,2),a=n[0],o=n[1],i=Object(r.useState)(e.status),s=Object(C.a)(i,2),c=s[0],l=s[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);var u=function(){a&&e.updateProfileStatus(c),o(!a)};return Object(O.jsx)("div",{className:ce.a.formControl,children:a?Object(O.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:u,autoFocus:!0,value:c,className:xt.a.input,onKeyUp:function(e){return 13===e.keyCode?u():null}}):e.isOwner?Object(O.jsx)("span",{onDoubleClick:u,children:c||"-set-status-"}):null})},wt=function(e){var t=e.profile,n=e.isFetchingUserProfile,r=e.updateProfileStatus,a=e.status,o=e.isOwner,i=e.savePhoto,s=e.goToEditMode,c=e.updateProfileData,l=e.editMode,u=e.followingInProgress,d=e.unfollow,j=e.follow,b=e.urlHistory,f=e.isFollowed,p=!n&&t;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:_t.a.main,children:Object(O.jsxs)(le.a,{padding:".9rem",children:[" ",p?Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:_t.a.bannerBlock}),Object(O.jsxs)("div",{className:_t.a.descriptionBlock,children:[Object(O.jsx)("div",{className:_t.a.userPhoto,children:Object(O.jsx)("div",{className:h()(_t.a.userPhoto__imgContainer,Object(k.a)({},_t.a.userPhoto__imgContainer_imgChanger,o)),children:o?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{id:"changeImg",className:_t.a.changeUserPhoto__input,type:"file",onChange:function(e){var t=e.currentTarget;t.files.length&&i(t.files[0])}}),Object(O.jsxs)("label",{htmlFor:"changeImg",className:_t.a.changeUserPhoto__label,children:[Object(O.jsx)("img",{src:t.photos.large||K.a}),Object(O.jsx)("div",{className:_t.a.changeUserPhoto__label__textContainer,children:Object(O.jsx)("span",{className:_t.a.changeUserPhoto__label__text,children:Object(O.jsxs)("b",{children:[Object(O.jsx)("span",{className:_t.a.changeUserPhoto__label__text_highlight,children:"Upload"}),Object(O.jsx)("br",{}),"new photo"]})})})]})]}):Object(O.jsx)("img",{src:t.photos.large||K.a})})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("b",{className:_t.a.fullName,children:t.fullName}),Object(O.jsx)(vt,{status:a,updateProfileStatus:r,isOwner:o})]}),!o&&(f?Object(O.jsx)(ct.a,{disabled:u.includes(t.userId),onClick:function(){return d(t.userId,b)},children:"Unfollow"}):Object(O.jsx)(ct.a,{disabled:u.includes(t.userId),onClick:function(){return j(t.userId,b)},children:"Follow"}))]})]}):Object(O.jsx)(g.a,{})," "]})}),Object(O.jsx)("div",{className:_t.a.about,children:Object(O.jsxs)(le.a,{padding:".9rem",children:[" ",p?Object(O.jsx)("div",{children:l?Object(O.jsx)(gt,{onSubmit:function(e){return Promise.all[c(e)]},initialValues:t}):Object(O.jsx)(mt,{profile:t,goToEditMode:s,isOwner:o})}):Object(O.jsx)(g.a,{})," "]})})]})},Pt=function(e){return Object(O.jsxs)("div",{className:tt.a.profile,children:[Object(O.jsx)(wt,{profile:e.profile,status:e.status,updateProfileStatus:e.updateProfileStatus,isFetchingUserProfile:e.isFetchingUserProfile,isOwner:e.isOwner,savePhoto:e.savePhoto,goToEditMode:e.toggleProfileDataEditMode,updateProfileData:e.updateProfileData,editMode:e.profileDataEditMode,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow,isFollowed:e.isFollowed,urlHistory:e.urlHistory}),Object(O.jsx)(st,{posts:e.posts,addPost:e.addPost,resetPostForm:e.resetPostForm})]})},kt=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"getCurrentUserId",value:function(){return Number.parseInt(this.props.match.params.userId)||this.props.authUserId}},{key:"getUserData",value:function(e){this.props.setCurrentUserId(this.getCurrentUserId()),this.props.getUserProfile(e),this.props.getProfileStatus(e)}},{key:"componentDidMount",value:function(){this.getUserData(this.getCurrentUserId())}},{key:"componentDidUpdate",value:function(){this.getCurrentUserId()!==this.props.prevUserId&&this.getUserData(this.getCurrentUserId())}},{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsx)(Pt,{profile:this.props.profile,status:this.props.status,updateProfileStatus:this.props.updateProfileStatus,posts:this.props.posts,addPost:this.props.addPost,resetPostForm:this.props.resetPostForm,isFetchingUserProfile:this.props.isFetchingUserProfile,isOwner:this.props.authUserId===this.getCurrentUserId(),savePhoto:this.props.savePhoto,profileDataEditMode:this.props.profileDataEditMode,toggleProfileDataEditMode:this.props.toggleProfileDataEditMode,updateProfileData:this.props.updateProfileData,isFollowed:this.props.isFollowed,followingInProgress:this.props.followingInProgress,follow:this.props.followProfile,unfollow:this.props.unfollowProfile,urlHistory:this.props.history})})}}]),n}(a.a.Component),Ct=Object(p.d)(Object(j.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,posts:e.profilePage.posts,isFetchingUserProfile:e.profilePage.isFetchingUserProfile,prevUserId:e.profilePage.currentUserId,authUserId:e.auth.userId,profileDataEditMode:e.profilePage.profileDataEditMode,isFollowed:$e(e),followingInProgress:Ce(e)}}),{getUserProfile:Ge,getProfileStatus:function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getProfileStatus(e);case 2:r=t.sent,n(Re(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateProfileStatus:function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.updateProfileStatus(e);case 2:0===t.sent.resultCode&&n(Re(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},resetPostForm:function(){return function(e){e(Object(P.a)("post"))}},addPost:function(e){return{type:ye,text:e}},setCurrentUserId:function(e){return{type:Fe,userId:e}},savePhoto:function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.savePhoto(e);case 2:0===(r=t.sent).resultCode&&n((a=r.data.photos,{type:Ue,photos:a}));case 4:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},toggleProfileDataEditMode:ze,updateProfileData:function(e){return function(){var t=Object(w.a)(v.a.mark((function t(n,r){var a,o,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,o=Qe(e),t.next=4,W.updateData(Object(A.a)({userId:a},o));case 4:0===(i=t.sent).resultCode?(n(ze()),n(Ge(a))):n(Object(P.b)("profile",U(i.messages)));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},followProfile:function(e,t){return function(n,r){Ke(e,t,n,r,M,Ze)}},unfollowProfile:function(e,t){return function(n,r){Ke(e,t,n,r,D,Je)}}}),b.g,fe.a)(kt),It=Object(p.d)(fe.a)((function(){return Object(O.jsx)("div",{children:"Settings"})})),yt=function(e,t,n,r){return e.map((function(e){return e[t]===n?Object(A.a)(Object(A.a)({},e),r):e}))},Nt="network/users/FOLLOW",Et="network/users/UNFOLLOW",St="network/users/SET_USERS",Ft="network/users/SET_TOTAL_USERS_COUNT",Ut="network/users/SET_PAGE_SIZE",Lt="network/users/SET_CURRENT_PAGE",Bt="network/users/TOGGLE_IS_FETCHING",Mt="network/users/TOGGLE_FOLLOWING_PROGRESS",Dt={users:[],totalUsersCount:0,pageSize:6,currentPage:1,isFetching:!1,followingInProgress:[]},Wt=function(e){return{type:Nt,userId:e}},Tt=function(e){return{type:Et,userId:e}},Rt=function(e){return{type:Bt,isFetching:e}},Vt=function(e,t){return{type:Mt,isFollowing:e,userId:t}},zt=function(e){e.push("/login")},Zt=function(){var e=Object(w.a)(v.a.mark((function e(t,n,r,a,o,i){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a().auth.isAuth){e.next=9;break}return r(Vt(!0,t)),e.next=5,o(t);case 5:return 0===e.sent.resultCode&&r(i(t)),r(Vt(!1,t)),e.abrupt("return");case 9:zt(n);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a,o,i){return e.apply(this,arguments)}}(),Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return Object(A.a)(Object(A.a)({},e),{},{users:yt(e.users,"id",t.userId,{followed:!0})});case Et:return Object(A.a)(Object(A.a)({},e),{},{users:yt(e.users,"id",t.userId,{followed:!1})});case St:return Object(A.a)(Object(A.a)({},e),{},{users:Object(Ie.a)(t.newUsers)});case Ft:return Object(A.a)(Object(A.a)({},e),{},{totalUsersCount:t.totalUsersCount});case Ut:return Object(A.a)(Object(A.a)({},e),{},{pageSize:t.pageSize});case Lt:return Object(A.a)(Object(A.a)({},e),{},{currentPage:t.currentPage});case Bt:return Object(A.a)(Object(A.a)({},e),{},{isFetching:t.isFetching});case Mt:return t.isFollowing?Object(A.a)(Object(A.a)({},e),{},{followingInProgress:[].concat(Object(Ie.a)(e.followingInProgress),[t.userId])}):Object(A.a)(Object(A.a)({},e),{},{followingInProgress:e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},Xt=n(47),Gt=n.n(Xt),Qt=function(e){var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,o=e.onChangePageNumber,i=e.portionSize,s=void 0===i?10:i,c=Math.ceil(t/n),l=Array.apply(null,Array(c)).map((function(e,t){return t+1})),u=Math.ceil(c/s),d=Math.ceil(a/s),j=Object(r.useState)(d),b=Object(C.a)(j,2),f=b[0],p=b[1],_=(f-1)*s+1,m=f*s;return Object(O.jsxs)("div",{className:Gt.a.paginator,children:[f>1&&Object(O.jsx)(ct.a,{onClick:function(){return p(f-1)},className:h()(Gt.a.changePageBtn,"uk-margin-medium-right"),children:Object(O.jsx)("span",{className:"uk-icon","uk-icon":"icon: arrow-left; ratio: 1.5"})}),a>1&&Object(O.jsx)(ct.a,{onClick:function(){return o(a-1)},className:h()(Gt.a.changePageBtn,"uk-margin-medium-right"),children:Object(O.jsx)("span",{className:"uk-icon","uk-icon":"icon: chevron-left; ratio: 1.5"})}),l.filter((function(e){return e>=_&&e<=m})).map((function(e){return Object(O.jsx)(ct.a,{className:h()(Object(k.a)({},Gt.a.selected,e===a),Gt.a.pageNumber),onClick:function(){return o(e)},isInvert:!0,children:e},e)})),a<c&&Object(O.jsx)(ct.a,{onClick:function(){return o(a+1)},className:h()(Gt.a.changePageBtn,"uk-margin-medium-left"),children:Object(O.jsx)("span",{className:"uk-icon","uk-icon":"icon: chevron-right; ratio: 1.5"})}),f<u&&Object(O.jsx)(ct.a,{onClick:function(){return p(f+1)},className:h()(Gt.a.changePageBtn,"uk-margin-medium-left"),children:Object(O.jsx)("span",{className:"uk-icon","uk-icon":"icon: arrow-right; ratio: 1.5"})})]})},Yt=n(48),Ht=n.n(Yt),Kt=function(e){var t=e.user,n=e.followingInProgress,r=e.unfollow,a=e.follow,o=e.urlHistory;return Object(O.jsx)(le.a,{children:Object(O.jsxs)("div",{className:Ht.a.user,children:[Object(O.jsx)("div",{className:Ht.a.user__banner,children:Object(O.jsx)("img",{src:"https://helpx.adobe.com/content/dam/help/en/photoshop/using/convert-color-image-black-white/jcr_content/main-pars/before_and_after/image-before/Landscape-Color.jpg"})}),Object(O.jsxs)("div",{className:h()(Ht.a.user__data),children:[Object(O.jsx)("div",{className:Ht.a.user__photo,children:Object(O.jsx)("div",{className:Ht.a.user__photo__imgContainer,children:Object(O.jsx)("img",{src:t.photos.small||K.a})})}),Object(O.jsxs)("div",{className:Ht.a.user__info,children:[Object(O.jsx)(f.b,{to:"/profile/".concat(t.id),children:t.name&&Object(O.jsx)("b",{children:t.name})}),t.status&&Object(O.jsx)("div",{children:t.status})]}),Object(O.jsx)("div",{className:Ht.a.user__btn,children:t.followed?Object(O.jsx)(ct.a,{disabled:n.some((function(e){return e===t.id})),onClick:function(){return r(t.id,o)},children:"Unfollow"}):Object(O.jsx)(ct.a,{disabled:n.some((function(e){return e===t.id})),onClick:function(){return a(t.id,o)},children:"Follow"})})]})]})})},qt=n(146),$t=n.n(qt),en=function(e){return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:$t.a.users,children:e.users.map((function(t){return Object(O.jsx)(Kt,{user:t,followingInProgress:e.followingInProgress,unfollow:e.unfollow,follow:e.follow,urlHistory:e.urlHistory},t.id)}))}),Object(O.jsx)(Qt,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onChangePageNumber:e.onChangePageNumber})]})},tn=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){var e=this;return Object(O.jsxs)(O.Fragment,{children:[this.props.isFetching&&Object(O.jsx)(g.a,{}),Object(O.jsx)(en,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow,urlHistory:this.props.history,onChangePageNumber:function(t,n){return e.props.requestUsers(t,e.props.pageSize)}})]})}}]),n}(a.a.Component),nn=Object(p.d)(Object(j.b)((function(e){return{users:xe(e),totalUsersCount:ve(e),pageSize:we(e),currentPage:Pe(e),isFetching:ke(e),followingInProgress:Ce(e)}}),{follow:function(e,t){return function(n,r){Zt(e,t,n,r,M,Wt)}},unfollow:function(e,t){return function(n,r){Zt(e,t,n,r,D,Tt)}},requestUsers:function(e,t){return function(){var n=Object(w.a)(v.a.mark((function n(r){var a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Rt(!0)),n.next=3,L(e,t);case 3:a=n.sent,r(Rt(!1)),r({type:Lt,currentPage:e}),r((i=a.items,{type:St,newUsers:i})),r((o=a.totalCount,{type:Ft,totalUsersCount:o}));case 8:case"end":return n.stop()}var o,i}),n)})));return function(e){return n.apply(this,arguments)}}()}}),b.g)(tn),rn="network/app/INITIALIZED_SUCCESS",an={isInitialized:!1},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case rn:return Object(A.a)(Object(A.a)({},e),{},{isInitialized:!0});default:return e}},sn=n(139),cn=n(147),ln=n(137),un=Object(p.c)({profilePage:qe,dialogsPage:ln.b,usersPage:Jt,auth:H,form:sn.a,app:on}),dn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,hn=Object(p.e)(un,dn(Object(p.a)(cn.a)));window.state=function(){return hn.getState()};var jn=hn,bn=a.a.lazy((function(){return n.e(3).then(n.bind(null,304))})),fn=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e){alert("Error occurred: "+e.reason.message)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initialize(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.isInitialized?Object(O.jsxs)("div",{className:m.a.appWrapper,children:[Object(O.jsx)(re,{}),Object(O.jsx)(Ae,{}),Object(O.jsx)("div",{className:m.a.content,children:Object(O.jsx)("div",{className:m.a.contentWidthLimiter,children:Object(O.jsxs)(b.d,{children:[Object(O.jsx)(b.b,{exact:!0,path:"/",render:function(){return Object(O.jsx)(b.a,{to:"/profile"})}}),Object(O.jsx)(b.b,{path:"/dialogs/:dialogId?",render:(e=bn,function(t){return Object(O.jsx)(r.Suspense,{fallback:Object(O.jsx)(g.a,{}),children:Object(O.jsx)(e,Object(A.a)({},t))})})}),Object(O.jsx)(b.b,{path:"/profile/:userId?",render:function(){return Object(O.jsx)(Ct,{})}}),Object(O.jsx)(b.b,{path:"/users",render:function(){return Object(O.jsx)(nn,{})}}),Object(O.jsx)(b.b,{path:"/news",render:function(){return Object(O.jsx)(ge,{})}}),Object(O.jsx)(b.b,{path:"/music",render:function(){return Object(O.jsx)(pe,{})}}),Object(O.jsx)(b.b,{path:"/settings",render:function(){return Object(O.jsx)(It,{})}}),Object(O.jsx)(b.b,{path:"/login/facebook",render:function(){return Object(O.jsx)("div",{children:"Facebook login page"})}}),Object(O.jsx)(b.b,{path:"/login",render:function(){return Object(O.jsx)(be,{})}}),Object(O.jsx)(b.b,{path:"*",render:function(){return Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"404 Not found"})})}})]})})})]}):Object(O.jsx)(g.a,{});var e}}]),n}(r.Component),pn=Object(p.d)(Object(j.b)((function(e){return{isInitialized:e.app.isInitialized}}),{initialize:function(){return function(e){Promise.all([e(Q())]).then((function(){e({type:rn})}))}}}),b.g)(fn),_n=function(){return Object(O.jsx)(f.a,{children:Object(O.jsx)(j.a,{store:jn,children:Object(O.jsx)(pn,{})})})},mn=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,303)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(_n,{})}),document.getElementById("root")),window.store=jn,mn()},31:function(e,t,n){"use strict";var r=n(142),a=n.n(r),o=n(0);t.a=function(e){var t=e.children,n=e.padding,r=e.width,i=e.height,s={padding:n||"0",width:r||n?"calc(100% - ".concat(n," * 2)"):"100%",height:i||n?"calc(100% - ".concat(n," * 2)"):"100%"};return Object(o.jsx)("div",{className:a.a.shadowSection,style:s,children:t})}},40:function(e,t,n){"use strict";var r=n(6),a=n.n(r),o=(n(1),n.p+"static/media/preloader.d3fad06d.svg"),i=n(103),s=n.n(i),c=n(0);t.a=function(){return Object(c.jsx)("div",{className:a()(s.a.preloader,"flex-col-xc-yc"),children:Object(c.jsx)("img",{className:s.a.preloader__img,src:o})})}},41:function(e,t,n){e.exports={navContainer:"Navbar_navContainer__1d4uN",nav:"Navbar_nav__3dlwf",item:"Navbar_item__1sktZ",active:"Navbar_active__29d4m"}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(2),a=n(36),o=n(37),i=n(39),s=n(38),c=n(1),l=n.n(c),u=n(12),d=n(19),h=n(9),j=n(0),b=function(e){return{isAuth:e.auth.isAuth}},f=function(e){var t=function(t){Object(i.a)(c,t);var n=Object(s.a)(c);function c(){var e;Object(a.a)(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).hasProfileUrlUserId=function(){return"/profile/:userId?"===e.props.match.path&&e.props.match.params.userId},e}return Object(o.a)(c,[{key:"render",value:function(){return this.props.isAuth||this.hasProfileUrlUserId()?Object(j.jsx)(e,Object(r.a)({},this.props)):Object(j.jsx)(u.a,{to:"/login"})}}]),c}(l.a.Component);return Object(h.d)(Object(d.b)(b),u.g)(t)}},47:function(e,t,n){e.exports={paginator:"Paginator_paginator__dXyXB",changePageBtn:"Paginator_changePageBtn__2Hk-3",pageNumber:"Paginator_pageNumber__qwVOG",selected:"Paginator_selected__1byaM"}},48:function(e,t,n){e.exports={user__banner:"User_user__banner__XcKmq",user__data:"User_user__data__1s6D5",user__photo:"User_user__photo__27R4l",user__photo__imgContainer:"User_user__photo__imgContainer__2i0t-",user__btn:"User_user__btn__1EXjJ"}},51:function(e,t,n){"use strict";t.a=n.p+"static/media/user.ba422ca1.png"},59:function(e,t,n){e.exports={profile:"Profile_profile__3j1pr",profile__blockHeader:"Profile_profile__blockHeader__2cO2H"}},60:function(e,t,n){e.exports={btn:"MyButton_btn__37Qsr",invert:"MyButton_invert__35IBo",small:"MyButton_small__2b5Tk",medium:"MyButton_medium__2nJC0","float-right":"MyButton_float-right__3CMIY","float-left":"MyButton_float-left__36jcq"}},7:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return _})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return A})),n.d(t,"b",(function(){return g}));var r=n(2),a=n(108),o=n(18),i=n(6),s=n.n(i),c=(n(1),n(102)),l=n(20),u=n(15),d=n.n(u),h=n(0),j=["input","meta"],b=["input","meta","textafter","label","otherProps"],f=function(e){var t=e.meta,n=e.children,r=t.touched&&t.error;return Object(h.jsxs)("div",{className:s()(d.a.formControl,Object(o.a)({},d.a.error,r)),children:[n,Object(h.jsx)("div",{className:d.a.errorText,children:r?t.error:""})]})},p=function(e){var t=e.input,n=(e.meta,Object(a.a)(e,j));return Object(h.jsx)(f,Object(r.a)(Object(r.a)({},e),{},{children:Object(h.jsx)("textarea",Object(r.a)(Object(r.a)({},t),n))}))},_=function(e){var t=e.input,n=(e.meta,e.textafter),o=e.label,i=e.otherProps,s=Object(a.a)(e,b);return Object(h.jsxs)(f,Object(r.a)(Object(r.a)({},e),{},{children:[Object(h.jsx)("input",Object(r.a)(Object(r.a)(Object(r.a)({id:t.name},t),i),s)),o?n:Object(h.jsx)("label",{htmlFor:t.name,children:n})]}))},m=function(e,t,n,r){var a=r.type,o=r.placeholder,i=r.textAfter,s=r.label,l=Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(c.a,{component:e,name:n,placeholder:o,validate:t,type:a,textafter:i,label:s})});return Object(h.jsxs)(h.Fragment,{children:[s&&Object(h.jsx)("div",{className:d.a.label,children:s}),Object(h.jsx)("div",{className:s?d.a.control:d.a.fullFiled,children:l})]})},A=function(e){var t=e.children;return Object(h.jsx)("div",{style:{display:"grid","grid-template-columns":"[labels] auto [controls] 1fr","grid-auto-flow":"row","grid-gap":"1em","place-items":"center start",padding:"1.2em"},children:t})},g=function(e){return Object(h.jsxs)("div",{className:d.a.formBtnContainer,children:[Object(h.jsx)("input",{id:"submit",type:"submit",style:{display:"none"}}),Object(h.jsx)("label",{for:"submit",children:Object(h.jsx)(l.a,Object(r.a)(Object(r.a)({},e),{},{className:s()(d.a.formBtn,e.className),children:e.children}))})]})}},84:function(e,t,n){e.exports={appWrapper:"App_appWrapper__3Gr8-",content:"App_content__1ojR8",contentWidthLimiter:"App_contentWidthLimiter__1CFdS"}}},[[301,1,2]]]);
//# sourceMappingURL=main.6f1e731f.chunk.js.map
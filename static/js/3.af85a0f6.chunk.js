(this["webpackJsonpreact-project-1"]=this["webpackJsonpreact-project-1"]||[]).push([[3],{302:function(e,s,a){e.exports={dialogs:"Dialogs_dialogs__2M_YM",dialogsItems:"Dialogs_dialogsItems__3I3A_",dialog:"Dialogs_dialog__9osXO",dialogContainer:"Dialogs_dialogContainer__2h8-q",active:"Dialogs_active__i5ozr",messages:"Dialogs_messages__3btsB",messages__head:"Dialogs_messages__head__3JN5_",messages__itemsList:"Dialogs_messages__itemsList___7-Ao",message:"Dialogs_message__1A00g",message__me:"Dialogs_message__me__2-YVS",message__companion:"Dialogs_message__companion__1xDdp",newMessageBlock:"Dialogs_newMessageBlock__1JNEu",form:"Dialogs_form__3QFrJ"}},304:function(e,s,a){"use strict";a.r(s);var i=a(19),t=a(12),o=a(9),c=a(137),n=function(e){return e.dialogsPage.dialogs},r=function(e){return e.dialogsPage.authors},d=function(e){return e.dialogsPage.messages},g=function(e){return e.dialogsPage.activeDialogId},l=function(e){return e.auth.photos.large},m=a(44),j=a(40),_=(a(1),a(138)),h=a(27),u=a(7),b=a(15),O=a.n(b),v=a(302),x=a.n(v),f=a(6),p=a.n(f),D=a(0),I=Object(h.a)(15),N=Object(_.a)({form:"dialog"})((function(e){var s=e.handleSubmit;return Object(D.jsxs)("form",{onSubmit:s,className:p()(O.a.form,x.a.form),children:[Object(D.jsx)("div",{children:Object(u.e)(u.d,[I],"message",{placeholder:"Write a message"})}),Object(D.jsx)("div",{children:Object(D.jsx)(u.b,{isMedium:!0,float:"right",children:"Send"})})]})})),M=a(18),C=a(24),S=a(51),w=function(e){var s=e.id,a=e.name,i=e.activeId,t="/dialogs/"+s;return Object(D.jsx)(C.b,{to:t,className:p()(x.a.dialogContainer,Object(M.a)({},x.a.active,i===s)),activeClassName:x.a.active,children:Object(D.jsxs)("div",{className:x.a.dialog,children:[Object(D.jsx)("img",{src:S.a}),Object(D.jsx)("span",{children:a})]})})},F=function(e){var s=e.message,a=e.author,i=e.photoMe;return Object(D.jsx)("div",{className:x.a.message,children:0===a.id?Object(D.jsxs)("div",{className:x.a.message__me,children:[Object(D.jsx)("span",{children:s}),Object(D.jsx)("img",{src:i})]}):Object(D.jsxs)("div",{className:x.a.message__companion,children:[Object(D.jsx)("div",{className:x.a.message__imgContainer,children:Object(D.jsx)("img",{src:S.a})}),Object(D.jsx)("span",{children:s})]})})},k=a(31),A=function(e){var s=e.dialogs,a=e.findCompanion,i=e.messages,t=e.onFormSubmit,o=e.photoMe,c=e.activeDialogId,n=a(s.find((function(e){return e.id===c})).companions[0]).name;return Object(D.jsxs)("div",{className:x.a.dialogs,children:[Object(D.jsx)("div",{className:x.a.dialogsItems,children:Object(D.jsx)(k.a,{children:s.map((function(e){var s=e.id,a=e.dialogName;return Object(D.jsx)(w,{name:a,id:s,activeId:c},s)}))})}),Object(D.jsx)("div",{className:x.a.messages,children:Object(D.jsx)(k.a,{padding:".9rem",children:c?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("div",{className:x.a.messages__head,children:[Object(D.jsx)("h2",{children:Object(D.jsxs)("b",{children:["Dialog with ",n]})}),Object(D.jsx)("hr",{})]}),Object(D.jsx)("div",{className:x.a.messages__itemsList,children:i.map((function(e){var s=e.id,i=e.authorId,t=e.message;return Object(D.jsx)(F,{message:t,photoMe:o,author:a(i)},s)}))}),Object(D.jsx)("div",{className:x.a.newMessageBlock,children:Object(D.jsx)(N,{onSubmit:t})})]}):Object(D.jsx)("div",{children:Object(D.jsx)("b",{children:"Chose the dialog"})})})})]})};s.default=Object(o.d)(Object(i.b)((function(e){return{dialogs:n(e),authors:r(e),messages:d(e),photoMe:l(e),activeDialogId:g(e)}}),{addMessage:c.a,resetDialogForm:c.c,setActiveDialog:c.d}),t.g,m.a)((function(e){var s=Number.parseInt(e.match.params.dialogId)||e.activeDialogId;if(s&&s!==e.activeDialogId)return e.setActiveDialog(s),Object(D.jsx)(j.a,{});return Object(D.jsx)(A,{dialogs:e.dialogs,messages:e.messages.filter((function(s){return s.dialogId===e.activeDialogId})),activeDialogId:e.activeDialogId,photoMe:e.photoMe,findCompanion:function(s){return e.authors.find((function(e){return e.id===s}))},onFormSubmit:function(s){var a=s.message;e.addMessage({message:a,dialogId:e.activeDialogId}),e.resetDialogForm()}})}))}}]);
//# sourceMappingURL=3.af85a0f6.chunk.js.map
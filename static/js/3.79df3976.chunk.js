(this["webpackJsonpreact-project-1"]=this["webpackJsonpreact-project-1"]||[]).push([[3],{307:function(e,a,s){e.exports={dialogs:"Dialogs_dialogs__2M_YM",dialogsItems:"Dialogs_dialogsItems__3I3A_",dialog:"Dialogs_dialog__9osXO",dialogContainer:"Dialogs_dialogContainer__2h8-q",active:"Dialogs_active__i5ozr",messages:"Dialogs_messages__3btsB",messages__head:"Dialogs_messages__head__3JN5_",messages__itemsList:"Dialogs_messages__itemsList___7-Ao",message:"Dialogs_message__1A00g",message__me:"Dialogs_message__me__2-YVS",message__companion:"Dialogs_message__companion__1xDdp",newMessageBlock:"Dialogs_newMessageBlock__1JNEu",form:"Dialogs_form__3QFrJ"}},309:function(e,a,s){"use strict";s.r(a);var i=s(22),t=s(11),o=s(8),c=s(143),n=function(e){return e.dialogsPage.dialogs},d=function(e){return e.dialogsPage.authors},r=function(e){return e.dialogsPage.messages},g=function(e){return e.dialogsPage.activeDialogId},l=s(27),m=s(142),j=s(34),_=s(32),u=s(6),b=s.n(u),h=(s(1),s(144)),v=s(28),O=s(13),x=s(15),f=s.n(x),p=s(307),D=s.n(p),I=s(0),N=Object(v.a)(150),M=Object(h.a)({form:"dialog"})((function(e){var a=e.handleSubmit;return Object(I.jsxs)("form",{onSubmit:a,className:b()(f.a.form,D.a.form),children:[Object(I.jsx)("div",{children:Object(O.e)(O.d,[N],"message",{placeholder:"Write a message"})}),Object(I.jsx)("div",{children:Object(I.jsx)(O.b,{isMedium:!0,float:"right",children:"Send"})})]})})),C=s(17),S=s(21),w=s(42),B=function(e){var a=e.id,s=e.name,i=e.activeId,t="/dialogs/"+a;return Object(I.jsx)(S.b,{to:t,className:b()(D.a.dialogContainer,Object(C.a)({},D.a.active,i===a)),activeClassName:D.a.active,children:Object(I.jsxs)("div",{className:D.a.dialog,children:[Object(I.jsx)("img",{src:w.a}),Object(I.jsx)("span",{children:s})]})})},F=function(e){var a=e.message,s=e.author,i=e.photoMe;return Object(I.jsx)("div",{className:D.a.message,children:0===s.id?Object(I.jsxs)("div",{className:D.a.message__me,children:[Object(I.jsx)("span",{children:a}),Object(I.jsx)("img",{src:i||w.a})]}):Object(I.jsxs)("div",{className:D.a.message__companion,children:[Object(I.jsx)("div",{className:D.a.message__imgContainer,children:Object(I.jsx)("img",{src:w.a})}),Object(I.jsx)("span",{children:a})]})})},k=function(e){var a=e.dialogs,s=e.findCompanionById,i=e.messages,t=e.onFormSubmit,o=e.photoMe,c=e.activeDialogId,n=e.companionName;return Object(I.jsxs)("div",{className:D.a.dialogs,children:[Object(I.jsx)("div",{className:D.a.dialogsItems,children:Object(I.jsx)(_.a,{children:a.map((function(e){var a=e.id,s=e.dialogName;return Object(I.jsx)(B,{name:s,id:a,activeId:c},a)}))})}),Object(I.jsx)("div",{className:D.a.messages,children:Object(I.jsx)(_.a,{padding:".9rem",children:c?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{className:D.a.messages__head,children:[Object(I.jsxs)("h2",{children:["Dialog with ",Object(I.jsx)("b",{children:n})]}),Object(I.jsx)("hr",{})]}),Object(I.jsx)("div",{className:D.a.messages__itemsList,children:i.map((function(e){var a=e.id,i=e.authorId,t=e.message;return Object(I.jsx)(F,{message:t,photoMe:o,author:s(i)},a)}))}),Object(I.jsx)("div",{className:D.a.newMessageBlock,children:Object(I.jsx)(M,{onSubmit:t})})]}):Object(I.jsx)("div",{children:Object(I.jsx)("b",{children:"Chose the dialog"})})})})]})};a.default=Object(o.d)(Object(i.b)((function(e){return{dialogs:n(e),authors:d(e),messages:r(e),photoMe:Object(l.d)(e),activeDialogId:g(e)}}),{addMessage:c.a,resetDialogForm:c.c,setActiveDialog:c.d}),t.g,m.a)((function(e){var a=Number.parseInt(e.match.params.dialogId)||e.activeDialogId;if(a&&a!==e.activeDialogId)return e.setActiveDialog(a),Object(I.jsx)(j.a,{});var s=function(a){return e.authors.find((function(e){return e.id===a}))},i=e.activeDialogId&&e.dialogs.find((function(a){return a.id===e.activeDialogId})).companions.map((function(e){return s(e)})).map((function(e){return e.name}))[0];return Object(I.jsx)(k,{dialogs:e.dialogs,messages:e.messages.filter((function(a){return a.dialogId===e.activeDialogId})),activeDialogId:e.activeDialogId,photoMe:e.photoMe,companionName:i,findCompanionById:s,onFormSubmit:function(a){var s=a.message;e.addMessage({message:s,dialogId:e.activeDialogId}),e.resetDialogForm()}})}))}}]);
//# sourceMappingURL=3.79df3976.chunk.js.map